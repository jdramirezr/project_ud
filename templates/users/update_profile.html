{% extends "base.html" %}
{% load static %}

{% block head_content %}
<title>@{{ request.user.username }} | Calculo datos</title>
{% endblock %}

{% block container %}

<form action="{% url 'calculate_address' %}" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="form-group">

    </div>
    <div id="mapid" class="form-group">

            <script>
                alert('¿Desar obtener la ubicacion de su propiedad con la ip de su computador?')
                var mymap = L.map('mapid').setView([4.715757, -74.1095727], 13);
                L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
                attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                maxZoom: 18,
                id: 'mapbox.streets',
                accessToken: 'pk.eyJ1IjoianVhbnBlcnJvIiwiYSI6ImNrMGs1YWcweTA1a2kzYnVwZTRzbm5vbWoifQ.JW2OcVZdik5hdffJ_uRdJg'
                }).addTo(mymap);
                var marker = L.marker([4.715757, -74.1095727]).addTo(mymap);
                var polygon = L.polygon([
                    [4.6481,-74.2012],
                    [4.6487,-74.2006],
                    [4.6489,-74.1995],
                    [4.6496,-74.1991],
                    [4.6497,-74.1977],
                    [4.6500,-74.1972],
                    [4.6501,-74.1967],
                    [4.6522,-74.1952],
                    [4.6533,-74.1950],
                    [4.6544,-74.1944],
                    [4.6551,-74.1934],
                    [4.6559,-74.1924],
                    [4.6553,-74.1911],
                    [4.6546,-74.1900],
                    [4.6539,-74.1886],
                    [4.6534,-74.1879],
                    [4.6527,-74.1870],
                    [4.6520,-74.1866],
                    [4.6519,-74.1863],
                    [4.6516,-74.1860],
                    [4.6520,-74.1854],
                    [4.6525,-74.1847],
                    [4.6528,-74.1838],
                    [4.6529,-74.1831],
                    [4.6530,-74.1819],
                    [4.6524,-74.1810],
                    [4.6523,-74.1802],
                    [4.6529,-74.1789],
                    [4.6535,-74.1778],
                    [4.6545,-74.1766],
                    [4.6549,-74.1762],
                    [4.6550,-74.1745],
                    [4.6554,-74.1743],
                    [4.6560,-74.1738],
                    [4.6566,-74.1728],
                    [4.6573,-74.1719],
                    [4.6575,-74.1709],
                    [4.6574,-74.1704],
                    [4.6573,-74.1695],
                    [4.6569,-74.1689],
                    [4.6564,-74.1682],
                    [4.6564,-74.1676],
                    [4.6570,-74.1673],
                    [4.6588,-74.1668],
                    [4.6596,-74.1667],
                    [4.6599,-74.1663],
                    [4.6602,-74.1654],
                    [4.6601,-74.1648],
                    [4.6599,-74.1643],
                    [4.6591,-74.1637],
                    [4.6594,-74.1631],
                    [4.6606,-74.1631],
                    [4.6615,-74.1630],
                    [4.6625,-74.1630],
                    [4.6627,-74.1624],
                    [4.6632,-74.1617],
                    [4.6635,-74.1607],
                    [4.6644,-74.1604],
                    [4.6648,-74.1602],
                    [4.6651,-74.1601],
                    [4.6651,-74.1572],
                    [4.6651,-74.1398],
                    [4.6638,-74.1396],
                    [4.6635,-74.1390],
                    [4.6630,-74.1386],
                    [4.6625,-74.1384],
                    [4.6624,-74.1380],
                    [4.6620,-74.1378],
                    [4.6617,-74.1378],
                    [4.6609,-74.1379],
                    [4.6607,-74.1383],
                    [4.6607,-74.1386],
                    [4.6609,-74.1391],
                    [4.6610,-74.1398],
                    [4.6603,-74.1398],
                    [4.6601,-74.1394],
                    [4.6597,-74.1385],
                    [4.6593,-74.1383],
                    [4.6571,-74.1366],
                    [4.6551,-74.1350],
                    [4.6528,-74.1342],
                    [4.6506,-74.1328],
                    [4.6492,-74.1320],
                    [4.6480,-74.1301],
                    [4.6475,-74.1282],
                    [4.6466,-74.1263],
                    [4.6451,-74.1254],
                    [4.6437,-74.1248],
                    [4.6420,-74.1242],
                    [4.6408,-74.1234],
                    [4.6403,-74.1224],
                    [4.6397,-74.1218],
                    [4.6366,-74.1219],
                    [4.6366,-74.1212],
                    [4.6372,-74.1208],
                    [4.6372,-74.1198],
                    [4.6371,-74.1191],
                    [4.6368,-74.1188],
                    [4.6366,-74.1183],
                    [4.6364,-74.1174],
                    [4.6358,-74.1161],
                    [4.6352,-74.1156],
                    [4.6356,-74.1282],
                    [4.6361,-74.1289],
                    [4.6365,-74.1349],
                    [4.6370,-74.1358],
                    [4.6372,-74.1500],
                    [4.6376,-74.1505],
                    [4.6380,-74.1544],
                    [4.6387,-74.1547],
                    [4.6392,-74.1567],
                    [4.6395,-74.1569],
                    [4.6399,-74.1594],
                    [4.6404,-74.1602],
                    [4.6404,-74.1618],
                    [4.6408,-74.1619],
                    [4.6416,-74.1659],
                    [4.6418,-74.1664],
                    [4.6421,-74.1670],
                    [4.6424,-74.1672],
                    [4.6428,-74.1716],
                    [4.6434,-74.1723],
                    [4.6434,-74.1778],
                    [4.6440,-74.1800],
                    [4.6444,-74.1822],
                    [4.6446,-74.1834],
                    [4.6452,-74.1856],
                    [4.6453,-74.1881],
                    [4.6457,-74.1919],
                    [4.6463,-74.1937],
                    [4.6468,-74.1946],
                    [4.6477,-74.1948],
                    [4.6474,-74.1961],
                    [4.6468,-74.1964],
                    [4.6468,-74.1989],
                    [4.6473,-74.1999],
                    [4.6473,-74.2012],
                    [4.6481,-74.2012]
                ]).addTo(mymap);
                var polygon2 = L.polygon([
                    [4.6610, -74.1398],
                    [4.6609, -74.1391],
                    [4.6607, -74.1386],
                    [4.6607, -74.1383],
                    [4.6609, -74.1379],
                    [4.6617, -74.1378],
                    [4.6620, -74.1378],
                    [4.6624, -74.1380],
                    [4.6625, -74.1384],
                    [4.6630, -74.1386],
                    [4.6635, -74.1390],
                    [4.6638, -74.1396],
                    [4.6651, -74.1398],
                    [4.6658, -74.1398],
                    [4.6657, -74.1378],
                    [4.6658, -74.1347],
                    [4.6651, -74.1343],
                    [4.6641, -74.1332],
                    [4.6631, -74.1312],
                    [4.6624, -74.1300],
                    [4.6612, -74.1285],
                    [4.6603, -74.1272],
                    [4.6602, -74.1266],
                    [4.6588, -74.1257],
                    [4.6584, -74.1243],
                    [4.6574, -74.1236],
                    [4.6560, -74.1222],
                    [4.6543, -74.1218],
                    [4.6543, -74.1194],
                    [4.6536, -74.1182],
                    [4.6524, -74.1169],
                    [4.6514, -74.1171],
                    [4.6507, -74.1160],
                    [4.6496, -74.1149],
                    [4.6494, -74.1124],
                    [4.6491, -74.1115],
                    [4.6488, -74.1103],
                    [4.6476, -74.1093],
                    [4.6466, -74.1086],
                    [4.6453, -74.1075],
                    [4.6447, -74.1065],
                    [4.6424, -74.1043],
                    [4.6412, -74.1033],
                    [4.6405, -74.1023],
                    [4.6403, -74.1005],
                    [4.6398, -74.0991],
                    [4.6390, -74.0986],
                    [4.6385, -74.0976],
                    [4.6382, -74.0952],
                    [4.6377, -74.0945],
                    [4.6367, -74.0953],
                    [4.6358, -74.0964],
                    [4.6345, -74.0971],
                    [4.6344, -74.0998],
                    [4.6338, -74.1010],
                    [4.6340, -74.1065],
                    [4.6346, -74.1079],
                    [4.6344, -74.1119],
                    [4.6352, -74.1123],
                    [4.6352, -74.1156],
                    [4.6358, -74.1161],
                    [4.6364, -74.1174],
                    [4.6366, -74.1183],
                    [4.6368, -74.1188],
                    [4.6371, -74.1191],
                    [4.6372, -74.1198],
                    [4.6372, -74.1208],
                    [4.6366, -74.1212],
                    [4.6366, -74.1219],
                    [4.6397, -74.1218],
                    [4.6403, -74.1224],
                    [4.6408, -74.1234],
                    [4.6420, -74.1242],
                    [4.6437, -74.1248],
                    [4.6451, -74.1254],
                    [4.6466, -74.1263],
                    [4.6475, -74.1282],
                    [4.6480, -74.1301],
                    [4.6492, -74.1320],
                    [4.6506, -74.1328],
                    [4.6528, -74.1342],
                    [4.6551, -74.1350],
                    [4.6571, -74.1366],
                    [4.6593, -74.1383],
                    [4.6597, -74.1385],
                    [4.6601, -74.1394],
                ],{color: 'red'}).addTo(mymap);
            </script>
        </div>
        <input class="form-control" type="text" placeholder="Dirección" name="address" />
        <button type="submit" class="btn btn-primary btn-block mt-5">Ubicar</button>

</form>








<!--
<div class="container">

    <div class="row justify-content-md-center">
        <div class="col-6 p-4" id="profile-box">



            <form action="{% url 'update_profile' %}" method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                <!-- <div class="media">
                    {% if profile.picture %}
                        <img src="{{ profile.picture.url }}" class="rounded-circle" height="50" />
                    {% else%}
                        <img src="{% static 'img/default-profile.png' %}" class="rounded-circle" height="50" />
                    {% endif %}

                    <div class="media-body">
                        <h5 class="ml-4">@{{ user.username }} | {{ user.get_full_name }}</h5>
                        <p class="ml-4"><input type="file" name="picture"></p>
                    </div>
                </div>

                {% for error in form.picture.errors %}
                <div class="alert alert-danger">
                    <b>Picture: </b>{{ error }}
                </div>
                {% endfor %}

                <hr><br> -->

<!--
                {# Website field #}
                <div class="form-group">
                    <label>Website</label>
                    <input
                        class="form-control {% if form.website.errors %}is-invalid{% endif %}"
                        type="text"
                        name="website"
                        placeholder="Website"
                        value="{% if form.errors %}{{ form.website.value }}{% else %}{{ profile.website }}{% endif %}"
                    />
                    <div class="invalid-feedback">
                        {% for error in form.website.errors %}
                            {{ error }}
                        {% endfor%}
                    </div>
                </div>

                {# Biography field #}
                <div class="form-group">
                    <label>Biography</label>
                    <textarea
                        class="form-control {% if form.biography.errors %}is-invalid{% endif %}"
                        name="biography"
                    >{% if form.errors %}{{ form.biography.value }}{% else %}{{ profile.biography }}{% endif %}</textarea>

                    <div class="invalid-feedback">
                        {% for error in form.biography.errors %}
                            {{ error }}
                        {% endfor%}
                    </div>
                </div>

                {# Phone number field #}
                <div class="form-group">
                    <label>Nombre del propietario</label>
                    <input
                        class="form-control {% if form.name_owner.errors %}is-invalid{% endif %}"
                        type="text"
                        name="name_owner"
                        placeholder="Nombre propietario"
                        value="{% if form.errors %}{{ form.name_owner.value }}{% else %}{{ profile.name_owner }}{% endif %}"
                    />
                    <div class="invalid-feedback">
                        {% for error in form.name_owner.errors %}
                            {{ error }}
                        {% endfor%}
                    </div>
                </div>

                <button type="submit" class="btn btn-primary btn-block mt-5">Update info</button>
            </form>
        </div>
    </div>
</div> --> -->

{% endblock %}








